var e=Object.defineProperty,l=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,o=(l,t,n)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[t]=n,a=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&o(e,s,a[s]);if(t)for(var s of t(a))n.call(a,s)&&o(e,s,a[s]);return e};import{p as s,a as r,t as i,r as d,c,o as u,b as m,d as p,u as b,e as f,w as v,v as h,F as g,f as w,g as O,h as y,i as k,j as C,k as M}from"./vendor.f5b24419.js";!function(e=".",l="__import__"){try{self[l]=new Function("u","return import(u)")}catch(t){const n=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[l]=e=>new Promise(((t,a)=>{const s=new URL(e,n);if(self[l].moduleMap[s])return t(self[l].moduleMap[s]);const r=new Blob([`import * as m from '${s}';`,`${l}.moduleMap['${s}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){a(new Error(`Failed to import: ${e}`)),o(i)},onload(){t(self[l].moduleMap[s]),o(i)}});document.head.appendChild(i)})),self[l].moduleMap={}}}("/drinkSomething/assets/");s("data-v-96b7536a");const N={class:"modal-bg"},j={class:"modal"},L={class:"modal-navbar"},x=p("h2",null,"訂購飲料",-1),P=p("i",{class:"fas fa-times fa-2x"},null,-1),_={class:"modal-body mb-l"},I={class:"order"},z={class:"order-num mb-s"},T=p("i",{class:"fas fa-minus-circle"},null,-1),U=p("i",{class:"fas fa-plus-circle"},null,-1),B={class:"order-size mb-s"},$={class:"order-sweet mb-s"},E={class:"order-ice mb-s"},R={class:"order-personName mb-s"},A=p("span",null,"訂購人",-1),S=p("br",null,null,-1),F={class:"order-annotation mb-s"},V=p("span",null,"附註",-1),D=p("br",null,null,-1),q={class:"totalPrice mb-s"},G=y(" 總價: "),H={class:"modal-footer"};r();const J={expose:[],props:{modifyTemplate:Object,isNewOrder:Boolean},emits:["closeModal","changeOrderModal","addOrderModal","changeIsNewOrder"],setup(e,{emit:l}){const t=e,{modifyTemplate:n,isNewOrder:o}=i(t);function s(){l("closeModal"),M()}console.log(`isNewOrder ${o.value}`);const r=d(a({},n.value));r.totalPrice=c((()=>r.price[r.size]*r.num));const y=["M","L"],k=["無糖","微糖","半糖","少糖","全糖"],C=["去冰","少冰","正常","多冰"],M=()=>{o.value&&l("changeIsNewOrder")},J=()=>{if(o.value){const e=Date.now();r.id=e,l("addOrderModal",r)}else l("changeOrderModal",r);s()};return(e,l)=>(u(),m("div",N,[p("div",j,[p("section",L,[x,p("button",{class:"modal-closeBtn",onClick:l[1]||(l[1]=e=>s())},[P])]),p("section",_,[p("img",{src:b(r).img,alt:`${b(r).name} 圖片`},null,8,["src","alt"]),p("div",I,[p("h3",null,f(b(r).name),1),p("div",z,[p("button",{onClick:l[2]||(l[2]=e=>b(r).num-=1)},[T]),v(p("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>b(r).num=e),placeholder:b(r).num},null,8,["placeholder"]),[[h,b(r).num]]),p("button",{onClick:l[4]||(l[4]=e=>b(r).num+=1)},[U])]),p("div",B,[(u(),m(g,null,w(y,(e=>p("button",{class:["order-btn",{"order-btn-active":b(r).size==e}],onClick:l=>b(r).size=e},f(e),11,["onClick"]))),64))]),p("div",$,[(u(),m(g,null,w(k,(e=>p("button",{class:["order-btn",{"order-btn-active":b(r).sweet==e}],onClick:l=>b(r).sweet=e},f(e),11,["onClick"]))),64))]),p("div",E,[(u(),m(g,null,w(C,(e=>p("button",{class:["order-btn",{"order-btn-active":b(r).ice==e}],onClick:l=>b(r).ice=e},f(e),11,["onClick"]))),64))]),p("div",R,[A,S,v(p("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>b(r).personName=e),placeholder:"輸入你的大名~"},null,512),[[h,b(r).personName]])]),p("div",F,[V,D,v(p("textarea",{"onUpdate:modelValue":l[6]||(l[6]=e=>b(r).note=e),placeholder:"(非必要) 要跟店員說些什麼嗎?"},null,512),[[h,b(r).note]])]),p("div",q,[p("p",null,[G,v(p("span",null,f(b(r).totalPrice),513),[[O,b(r).size]])])])])]),p("section",H,[p("button",{class:"order-btn cancel",onClick:l[7]||(l[7]=e=>s())},"取消"),p("button",{class:"order-btn determine",onClick:l[8]||(l[8]=e=>J())}," 確定 ")])])]))},__scopeId:"data-v-96b7536a"};s("data-v-04019945");const K={class:"container mx-auto"},Q=p("h1",null,"Let's drink something",-1),W={class:"table mx-auto"},X={class:"table-thead"},Y=y(" 訂購人 "),Z=p("i",{class:"fas fa-sort"},null,-1),ee=y("杯數"),le=p("i",{class:"fas fa-sort"},null,-1),te=y("價錢"),ne=p("i",{class:"fas fa-sort"},null,-1),oe=p("th",null,"附註",-1),ae=p("th",null,"修改",-1),se=p("th",null,"刪除",-1),re={class:"border_bottom"};r();const ie={expose:[],setup(e){const{orderList:l,modifyOrder:t,deleteOrder:n,addOrder:o,findElementIndex:s}=(()=>{const e=d([{id:1619471596178,name:"可可",personName:"Blue",num:2,totalPrice:100,note:"hihi",size:"L",ice:"去冰",sweet:"無糖",img:"https://foodtracer.taipei.gov.tw/Backend/upload/product/28722339/28722339_40.jpg",price:{M:35,L:50}},{id:1619471618613,name:"可可",personName:"Tony",num:1,totalPrice:35,note:"hihi",size:"M",ice:"去冰",sweet:"無糖",img:"https://foodtracer.taipei.gov.tw/Backend/upload/product/28722339/28722339_40.jpg",price:{M:35,L:50}}]),l=l=>e.findIndex((e=>e.id===l));return{orderList:e,deleteOrder:t=>{const n=l(t);e.splice(n,1)},modifyOrder:(t,n)=>{const o=l(t);e.splice(o,1,n)},addOrder:l=>{e.push(l)},findElementIndex:l}})(),{isShow:r,modifyTemplate:i,openModal:v,isNewOrder:h,modifyTemplateInit:O}=(()=>{const e=k(!1),l=k({id:null,name:"可可",personName:"",num:1,totalPrice:0,note:"",size:"",ice:"",sweet:"",img:"https://foodtracer.taipei.gov.tw/Backend/upload/product/28722339/28722339_40.jpg",price:{M:35,L:50}}),t=k(!1);return{isShow:e,openModal:t=>{t&&(l.value=t),e.value=!0},modifyTemplate:l,isNewOrder:t,modifyTemplateInit:()=>{l.value={id:null,name:"可可",personName:"",num:1,totalPrice:0,note:"",size:"",ice:"",sweet:"",img:"https://foodtracer.taipei.gov.tw/Backend/upload/product/28722339/28722339_40.jpg",price:{M:35,L:50}}}}})();function y(){r.value=!1}k(null);const M=k({type:"",isAscending:!1}),N=e=>{M.value.type=e,M.value.isAscending=!M.value.isAscending},j=c((()=>{let e=a({},l);if(!M.value.type)return e;let t=[],n={};for(let l in e)t.push(e[l]);return((e,l,t)=>{if("personName"==e){let n=1;return 0==l&&(n=-1),void t.sort(((l,t)=>l[e]>t[e]?n:t[e]>l[e]?-n:0))}1==l&&t.sort(((l,t)=>l[e]-t[e])),0==l&&t.sort(((l,t)=>t[e]-l[e]))})(M.value.type,M.value.isAscending,t),t.forEach(((e,l)=>{n[l]=e})),n}));function L(){h.value=!1}const x=()=>{h.value=!0,z()},P=k(null),_=e=>{o(e)},I=e=>{t(P.value,e)},z=e=>{if(0!==e&&!e)return console.log("沒有id"),O(),void v();P.value=e;const t=s(e);v(l[t])},T=e=>{if(e)return e.length>10?`${e.slice(0,10)}...`:e};return(e,l)=>(u(),m(g,null,[p("div",K,[Q,p("button",{class:"btn addOrder mb-l",onClick:x}," 新增訂單 "),p("table",W,[p("thead",X,[p("tr",null,[p("th",null,[Y,p("button",{onClick:l[1]||(l[1]=e=>N("personName"))},[Z])]),p("th",null,[ee,p("button",{onClick:l[2]||(l[2]=e=>N("num"))},[le])]),p("th",null,[te,p("button",{onClick:l[3]||(l[3]=e=>N("totalPrice"))},[ne])]),oe,ae,se])]),p("tbody",null,[(u(!0),m(g,null,w(b(j),((e,l)=>(u(),m("tr",re,[p("td",null,f(e.personName),1),p("td",null,f(e.num),1),p("td",null,f(e.totalPrice),1),p("td",null,f(T(e.note)),1),p("td",null,[p("button",{class:"btn modify",onClick:l=>z(e.id)}," 修改 ",8,["onClick"])]),p("td",null,[p("button",{class:"btn delete",onClick:l=>b(n)(e.id)}," 刪除 ",8,["onClick"])])])))),256))])])]),b(r)?(u(),m(J,{key:0,modifyTemplate:b(i),isNewOrder:b(h),onCloseModal:y,onChangeOrderModal:I,onAddOrderModal:_,onChangeIsNewOrder:L},null,8,["modifyTemplate","isNewOrder"])):C("",!0)],64))},__scopeId:"data-v-04019945"};M({expose:[],setup:e=>(e,l)=>(u(),m(ie))}).mount("#app");
